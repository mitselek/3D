# generated by PrusaSlicer 2.9.2 on 2025-06-02 at 15:45:00 UTC
# Extrudr PCTG Filament Profile - Optimized for Core One
# Based on Bambu Labs proven settings with seam hiding optimizations
# Version: 2.0 - Organized Educational Profile with Comprehensive Documentation

# =============================================================================
# COMPATIBILITY & PRINTER SETTINGS
# =============================================================================
compatible_printers_condition_cummulative = "printer_model=~/(COREONE|COREONEMMU3)/ and nozzle_diameter[0]==0.4 and nozzle_high_flow[0]"

# =============================================================================
# TEMPERATURE SETTINGS (Based on Bambu Labs proven values)
# =============================================================================
temperature = 268                        ; Main printing temperature
first_layer_temperature = 260            ; Slightly lower for better bed adhesion
bed_temperature = 80                     ; Consistent bed temp for all layers
first_layer_bed_temperature = 80         ; Same as regular bed temp
idle_temperature = 130                   ; Standby temperature
chamber_temperature = 35                 ; Target chamber temp
chamber_minimal_temperature = 0          ; Minimum chamber temp

# =============================================================================
# COOLING SETTINGS (Optimized for PCTG)
# =============================================================================
# PCTG cooling strategy: Moderate cooling to prevent warping while ensuring proper solidification
# Key principle: PCTG doesn't need aggressive cooling like PLA, excessive cooling can cause warping

# Enable part cooling fan system
cooling = 1

# Keep fan running continuously for consistent temperature control
fan_always_on = 1

min_fan_speed = 30 ; Minimum fan speed: 30% provides gentle cooling without thermal shock
                   ; PCTG benefits from consistent airflow rather than aggressive bursts

max_fan_speed = 50 ; Maximum fan speed: 50% limit prevents over-cooling and warping
                   ; Higher speeds can cause layer adhesion issues with PCTG

bridge_fan_speed = 70 ; OPTIMIZATION: Bridge fan speed increased to 70% (was 60%)
                      ; Higher speed for overhangs and bridges where rapid cooling is beneficial
                      ; Bridges need more aggressive cooling to prevent drooping

full_fan_speed_layer = 5 ; Full fan speed activation: Layer 5 allows proper first layer adhesion
                         ; Gradual ramp-up prevents thermal shock on early layers

disable_fan_first_layers = 3 ; No fan for first 3 layers: Critical for PCTG bed adhesion
                             ; PCTG needs warm layers to bond properly to the bed

fan_below_layer_time = 25 ; Fan behavior for short layers: 25 second threshold
                          ; For layers printing faster than 25s, fan may increase to prevent overheating

# =============================================================================
# RETRACTION SETTINGS (Bambu Labs proven + seam optimizations)
# =============================================================================
filament_retract_length = 0.8            ; Retraction distance (Bambu proven)
filament_retract_speed = 35              ; Retraction speed (mm/s)
deretract_speed = 25                     ; Slightly slower deretraction for control
filament_retract_lift = 0.15             ; Z-hop distance

; Enable retraction when changing layers for better seams
filament_retract_layer_change = 1

filament_retract_before_wipe = 30%       ; OPTIMIZED: Better wipe for cleaner seams (was 20%)

; Enable wiping to clean nozzle before travel moves
filament_wipe = 1

# =============================================================================
# LAYER TIME & SPEED CONTROL
# =============================================================================
slowdown_below_layer_time = 8            ; OPTIMIZED: Reduced from 10s for PCTG
min_print_speed = 15                     ; Minimum print speed (mm/s)
filament_max_volumetric_speed = 9        ; Maximum volumetric flow rate
filament_infill_max_speed = 200          ; Max infill speed
filament_infill_max_crossing_speed = 110 ; Max speed when crossing infill

# =============================================================================
# EXTRUSION & FLOW SETTINGS
# =============================================================================
extrusion_multiplier = 0.95             ; Slight under-extrusion for cleaner prints
filament_diameter = 1.75                ; Standard filament diameter

# =============================================================================
# MATERIAL PROPERTIES
# =============================================================================
filament_type = PCTG                     ; Material type
filament_vendor = Extrudr                ; Manufacturer
filament_density = 1.21                  ; Density for weight calculations
filament_cost = 37.49                    ; Cost per kg for calculations
filament_colour = #ff4d00              ; Orange color identifier
# Non-abrasive material
filament_abrasive = 0
# Not water soluble
filament_soluble = 0

# =============================================================================
# GCODE CUSTOMIZATION (Pressure Advance & Thermal Management)
# =============================================================================
# Pressure advance set to 0.03 for improved print quality and precision
start_filament_gcode = "M572 S0.03 ; Pressure advance for PCTG\nM142 S36 ; set heatbreak target temp"
end_filament_gcode = "; PCTG end gcode\nM572 S0 ; reset pressure advance"

# =============================================================================
# ADVANCED RETRACTION SETTINGS
# =============================================================================
; These advanced retraction settings are set to "nil" to use print profile defaults.
; Override with specific values only if PCTG requires different behavior than standard settings.
; Setting to "nil" allows the print profile to control these parameters globally.

filament_retract_before_travel = nil    ; Retraction distance before travel moves (use print profile default)
                                        ; Set to specific mm value if PCTG needs different travel retraction

filament_retract_length_toolchange = nil ; Retraction length during tool changes (multi-extruder/MMU)
                                         ; Set to specific mm value if PCTG needs extra retraction for tool changes

filament_retract_lift_above = nil       ; Z-lift only when above this layer height (mm)
                                        ; Set to layer height value to limit z-hop to upper layers only

filament_retract_lift_below = nil       ; Z-lift only when below this layer height (mm)  
                                        ; Set to layer height value to limit z-hop to lower layers only

filament_retract_restart_extra = nil    ; Extra filament length to extrude after retraction (mm)
                                        ; Set positive value if PCTG needs extra priming after retraction
                                        ; Set negative value if PCTG over-extrudes after retraction

filament_retract_restart_extra_toolchange = nil ; Extra restart length after tool change retraction
                                                ; Set if PCTG needs different priming after tool changes

filament_seam_gap_distance = nil        ; Gap distance for seam positioning (mm)
                                        ; Set to control how far seams are placed from model features

filament_deretract_speed = nil          ; Speed for pushing filament back after retraction (mm/s)
                                        ; Already set globally to 25mm/s, nil uses that value

# =============================================================================
# LOADING/UNLOADING SETTINGS (MMU/AMS)
# =============================================================================
filament_load_time = 10.9               ; Time for loading sequence
filament_unload_time = 8.9              ; Time for unloading sequence
filament_loading_speed = 28             ; Loading speed
filament_loading_speed_start = 50       ; Initial loading speed
filament_unloading_speed = 100          ; Unloading speed
filament_unloading_speed_start = 100    ; Initial unloading speed
cooling_tube_length = 20                ; MMU cooling tube length
cooling_tube_retraction = 45            ; MMU cooling tube retraction

# =============================================================================
# RAMMING & PURGING SETTINGS (MMU/AMS)
# =============================================================================
; These settings control filament preparation and waste management for multi-material systems.
; Critical for ensuring clean color transitions and reliable tool changes.

; Disable multitool ramming (0=off, 1=on)
; Ramming forces filament through nozzle to clear previous material
; Set to 1 if PCTG needs aggressive clearing for color changes
filament_multitool_ramming = 0

filament_multitool_ramming_flow = 10    ; Flow rate during ramming sequence (mm³/s)
                                        ; Higher values = faster clearing but more waste
                                        ; Increase if PCTG mixes poorly with other materials

filament_multitool_ramming_volume = 10  ; Volume of material to ram through (mm³)
                                        ; Amount of filament extruded to clear previous color/material
                                        ; Increase for stubborn color changes or material transitions

filament_ramming_parameters = "250 100 42.4194 42.4194| 0.05 42.4387 0.45 42.4387 0.95 42.4387 1.45 42.4387 1.95 42.4387 2.45 42.4387 2.95 42.4387 3.45 42.4387 3.95 42.4387 4.45 42.4387 4.95 42.4387"
                                        ; Complex ramming sequence definition (temperature, speed, timing)
                                        ; Format: "temp speed flow flow| time1 flow1 time2 flow2..."
                                        ; Defines precise extrusion pattern for optimal material clearing
                                        ; Usually doesn't need modification unless testing shows poor transitions

filament_minimal_purge_on_wipe_tower = 35 ; Minimum purge volume on wipe tower (mm³)
                                          ; Base amount of material to purge before printing
                                          ; Increase if PCTG shows color bleeding or poor adhesion after changes
                                          ; Decrease to reduce waste if transitions are clean

filament_purge_multiplier = 100%        ; Multiplier for calculated purge volumes
                                        ; 100% = use calculated values, >100% = more purging, <100% = less
                                        ; Increase to 120-150% if PCTG has difficult color transitions
                                        ; Decrease to 80-90% to reduce waste if transitions are reliable

# =============================================================================
# SURFACE FINISH SETTINGS
# =============================================================================
filament_cooling_moves = 3              ; Number of cooling moves
filament_cooling_initial_speed = 5      ; Initial cooling move speed
filament_cooling_final_speed = 2.5      ; Final cooling move speed

# =============================================================================
# SIZE CONSTRAINTS & TRAVEL
# =============================================================================
max_layer_height = 0.25                 ; Maximum layer height
min_layer_height = 0.07                 ; Minimum layer height
filament_travel_max_lift = 1.5          ; Maximum travel lift
; Enable ramping lift for smoother travel moves
filament_travel_ramping_lift = 1
filament_travel_slope = 1               ; Travel slope setting
filament_travel_lift_before_obstacle = nil

# =============================================================================
# MISCELLANEOUS SETTINGS
# =============================================================================
filament_spool_weight = 193             ; Empty spool weight
filament_stamping_distance = 45         ; Stamping distance for MMU
filament_stamping_loading_speed = 26.5  ; Stamping loading speed
filament_toolchange_delay = 0           ; Tool change delay
filament_shrinkage_compensation_xy = 0% ; No shrinkage compensation needed
filament_shrinkage_compensation_z = 0%  ; No shrinkage compensation needed

# =============================================================================
# PROFILE IDENTIFICATION
# =============================================================================
filament_settings_id = "Extrudr PCTG @COREONE HF0.4 v2.0"
filament_notes = Extrudr PCTG filament optimized for Core One v2.0 - Enhanced bridge cooling (70%), improved wipe retraction (30%), reduced layer time threshold (8s), 0.95 extrusion multiplier for better quality. Uses 0.03 pressure advance and layer change retraction. Based on Bambu Labs settings.
